/*! elabftw 03-01-2016 */
$(function(){function a(a){var c=a.parent().attr("id");localStorage.removeItem("'"+c+"'"),a.parent().fadeOut(function(){a.parent().remove(),b()})}function b(){var a=$("#show-items li");l.length=0,a.each(function(){var a=$(this).attr("id");l.push(a)}),localStorage.setItem("todo-orders",l.join(","))}function c(){var a=$("#show-items li");l.length=0,localStorage.clear(),a.remove()}var d,e,f=Number(localStorage.getItem("todo-counter"))+1,g=0,h=$("#todo-form"),i=($("#show-items li a"),$("#show-items")),j=$("#clear-all"),k=$("#todo"),l=[];for(e=localStorage.getItem("todo-orders"),e=e?e.split(","):[],g=0,d=e.length;d>g;g++)i.append("<li id='"+e[g]+"'>"+localStorage.getItem(e[g])+" <a href='#'>X</a></li>");h.submit(function(a){a.preventDefault(),""!==k.val()&&(localStorage.setItem("todo-"+f,k.val()),localStorage.setItem("todo-counter",f),i.append("<li id='todo-"+f+"'><span class='editable'>"+localStorage.getItem("todo-"+f)+" </span><a href='#'>x</a></li>"),b(),$("#todo-"+f).css("display","none").fadeIn(),k.val(""),f++)}),i.delegate("a","click",function(b){var c=$(this);b.preventDefault(),a(c)}),j.click(function(a){a.preventDefault(),c()}),i.delegate("li","mouseover mouseout",function(a){var b=$(this).find("a");"mouseover"===a.type?b.stop(!0,!0).fadeIn():b.stop(!0,!0).fadeOut()})});