$(function(){function l(a){var m=a.parent().attr("id");localStorage.removeItem("'"+m+"'");a.parent().fadeOut(function(){a.parent().remove();g()})}function g(){var a=$("#show-items li");f.length=0;a.each(function(){var a=$(this).attr("id");f.push(a)});localStorage.setItem("todo-orders",f.join(","))}var b=Number(localStorage.getItem("todo-counter"))+1,d=0,k,n=$("#todo-form");$("#show-items li a");var e=$("#show-items"),p=$("#clear-all"),h=$("#todo"),f=[],c;c=(c=localStorage.getItem("todo-orders"))?
c.split(","):[];d=0;for(k=c.length;d<k;d++)e.append("<li id='"+c[d]+"'><span class='editable'>"+localStorage.getItem(c[d])+"</span> <a href='#'>X</a></li>");n.submit(function(a){a.preventDefault();""!==h.val()&&(localStorage.setItem("todo-"+b,h.val()),localStorage.setItem("todo-counter",b),e.append("<li id='todo-"+b+"'><span class='editable'>"+localStorage.getItem("todo-"+b)+" </span><a href='#'>x</a></li>"),g(),$("#todo-"+b).css("display","none").fadeIn(),h.val(""),b++)});e.delegate("a","click",
function(a){var b=$(this);a.preventDefault();l(b)});e.sortable({revert:!0,stop:function(){g()}});p.click(function(a){a.preventDefault();a=$("#show-items li");f.length=0;localStorage.clear();a.remove()});e.delegate("li","mouseover mouseout",function(a){var b=$(this).find("a");"mouseover"===a.type?b.stop(!0,!0).fadeIn():b.stop(!0,!0).fadeOut()})});