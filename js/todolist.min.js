$(function(){function l(a){var m=a.parent().attr("id");localStorage.removeItem("'"+m+"'");a.parent().fadeOut(function(){a.parent().remove();h()})}function h(){var a=$("#show-items li");e.length=0;a.each(function(){var a=$(this).attr("id");e.push(a)});localStorage.setItem("todo-orders",e.join(","))}var b=Number(localStorage.getItem("todo-counter"))+1,d=0,k,n=$("#todo-form");$("#show-items li a");var f=$("#show-items"),p=$("#clear-all"),g=$("#todo"),e=[],c;c=(c=localStorage.getItem("todo-orders"))?
c.split(","):[];d=0;for(k=c.length;d<k;d++)f.append("<li id='"+c[d]+"'>"+localStorage.getItem(c[d])+" <a href='#'>X</a></li>");n.submit(function(a){a.preventDefault();""!==g.val()&&(localStorage.setItem("todo-"+b,g.val()),localStorage.setItem("todo-counter",b),f.append("<li id='todo-"+b+"'><span class='editable'>"+localStorage.getItem("todo-"+b)+" </span><a href='#'>x</a></li>"),h(),$("#todo-"+b).css("display","none").fadeIn(),g.val(""),b++)});f.delegate("a","click",function(a){var b=$(this);a.preventDefault();
l(b)});p.click(function(a){a.preventDefault();a=$("#show-items li");e.length=0;localStorage.clear();a.remove()});f.delegate("li","mouseover mouseout",function(a){var b=$(this).find("a");"mouseover"===a.type?b.stop(!0,!0).fadeIn():b.stop(!0,!0).fadeOut()})});